{"version":3,"sources":["web3.js","allowance.js","Components/CreateFamily.js","Components/FamilyAccount.js","Components/FamilyAccounts.js","Components/HomePage.js","getallowance.js","Components/CreateTaskForm.js","Components/TasksTable.js","Components/ViewTask.js","Router.js","index.js"],"names":["web3","Web3","window","currentProvider","src_allowance","eth","Contract","constant","inputs","name","type","outputs","payable","stateMutability","CreateFamily","props","react_default","a","createElement","onSubmit","submitCreate","bloomer_min","FamilyAccount","acNum","Link","to","FamilyAccounts","families","map","Components_FamilyAccount","key","App","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","_ref","asyncToGenerator","regenerator_default","mark","_callee","event","accounts","wrap","_context","prev","next","preventDefault","getAccounts","sent","allowance","methods","createFamily","send","from","gas","stop","_x","apply","arguments","state","getDeployedFamilies","setState","Components_CreateFamily","Components_FamilyAccounts","Component","getallowance","address","JSON","parse","Family","interface","CreateTaskForm","createTask","placeholder","value","onChange","e","handleChangeValue","target","handleChangeTask","TasksTable","console","log","task","description","ViewTask","Allowance","match","params","taskInput","valueInput","utils","toWei","t0","parent","getSummary","summary","getTaskCount","taskCount","Promise","all","Array","parseInt","fill","element","index","tasks","_this2","Components_CreateTaskForm","Components_TasksTable","Router","HashRouter","Switch","Route","exact","path","component","HomePage","page","src_Router","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fc49a183.chunk.js","sourcesContent":["import Web3 from 'web3';\n\nconst web3 = new Web3(window.web3.currentProvider);\n\nexport default web3;","import web3 from './web3';\n\nconst address = '0x5f3c2B7D1dFD8D5eaE8EeaC4c0641BdBF68B31b1';\n\nconst abi = [\n    {\n        constant: true,\n        inputs: [{ name: '', type: 'uint256' }],\n        name: 'deployedFamilies',\n        outputs: [{ name: '', type: 'address' }],\n        payable: false,\n        stateMutability: 'view',\n        type: 'function'\n    },\n    {\n        constant: false,\n        inputs: [],\n        name: 'createFamily',\n        outputs: [],\n        payable: false,\n        stateMutability: 'nonpayable',\n        type: 'function'\n    },\n    {\n        constant: true,\n        inputs: [],\n        name: 'getDeployedFamilies',\n        outputs: [{ name: '', type: 'address[]' }],\n        payable: false,\n        stateMutability: 'view',\n        type: 'function'\n    }\n];\n\nexport default new web3.eth.Contract(abi, address);\n","import React from 'react';\nimport { Button } from 'bloomer';\n\nconst CreateFamily = (props) => {\n    return (\n        <form onSubmit={props.submitCreate}>\n            <h3>Create a Family Account</h3>\n            <Button>Create</Button>\n        </form>\n    );\n}\n\nexport default CreateFamily;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Box } from 'bloomer';\n\nconst FamilyAccount = props => {\n    return (\n        <div>\n            <Box>\n                <h3>Account number: {props.acNum}</h3>\n                <Link to={props.acNum}>View Details</Link>\n            </Box>\n        </div>\n    );\n};\n\nexport default FamilyAccount;\n","import React from 'react';\nimport FamilyAccount from './FamilyAccount';\n\nconst FamilyAccounts = (props) => {\n    return(\n        <div>\n            {props.families.map(acNum => <FamilyAccount \n            key={acNum}\n            acNum={acNum}\n            />)}\n        </div>\n    );\n}\n\nexport default FamilyAccounts;\n","import React, { Component } from 'react';\nimport allowance from '../allowance';\nimport CreateFamily from './CreateFamily';\nimport FamilyAccounts from './FamilyAccounts';\nimport web3 from '../web3';\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            families: []\n        };\n    }\n\n    async componentDidMount() {\n        const families = await allowance.methods.getDeployedFamilies().call();\n\n        this.setState({\n            families: families\n        });\n    }\n\n    submitCreate = async event => {\n        event.preventDefault();\n\n        const accounts = await web3.eth.getAccounts();\n        await allowance.methods.createFamily().send({\n            from: accounts[0],\n            gas: '1000000'\n        });\n    };\n\n    render() {\n        return (\n            <div>\n                <CreateFamily submitCreate={this.submitCreate}/>\n                <FamilyAccounts families={this.state.families} />\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import web3 from './web3';\nimport Family from './Family.json';\n\n\nexport default (address) => {\n    return new web3.eth.Contract(\n        JSON.parse(Family.interface),\n        address\n    );\n};\n","import React from 'react';\nimport { Field, Input, Control, Button } from 'bloomer';\n\nconst CreateTaskForm = props => {\n    return (\n        <div>\n            <Field onSubmit={props.createTask}>\n                <h3>Set a task</h3>\n                <Control>\n                    <Input\n                        placeholder=\"Enter amount\"\n                        value={props.value}\n                        onChange={e => props.handleChangeValue(e.target.value)}\n                    />\n                    <Input\n                        placeholder=\"Enter task\"\n                        onChange={e => props.handleChangeTask(e.target.value)}\n                    />\n                </Control>\n                <Button>Submit</Button>\n            </Field>\n        </div>\n    );\n};\n\nexport default CreateTaskForm;\n","import React from 'react';\nimport { Table } from 'bloomer';\n\nconst TasksTable = props => {\n    console.log(props.task);\n    return (\n        <div>\n            <Table>\n                <thead>\n                    <tr>\n                        <th>Task</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {props.task.map(task => (\n                        <tr>\n                            <th>{task.description}</th>\n                        </tr>\n                    ))}\n                </tbody>\n            </Table>\n        </div>\n    );\n};\n\nexport default TasksTable;\n","import React, { Component } from 'react';\nimport web3 from '../web3';\nimport Allowance from '../getallowance';\nimport CreateTaskForm from './CreateTaskForm';\nimport TasksTable from './TasksTable';\n\nclass ViewTask extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            task: [],\n            parent: '',\n            value: '',\n            taskInput: '',\n            valueInput: ''\n        };\n    }\n\n    async componentDidMount() {\n        const allowance = Allowance(this.props.match.params.acNum);\n        const summary = await allowance.methods.getSummary().call();\n        const taskCount = await allowance.methods.getTaskCount().call();\n\n\n        const task = await Promise.all(\n            Array(parseInt(taskCount))\n                .fill()\n                .map((element, index) => {\n                    return allowance.methods.tasks(index).call();\n                })\n        );\n\n        this.setState({\n            tasks: summary[0],\n            parent: summary[1],\n            task: task\n        });\n    }\n\n    createTask = async e => {\n        e.preventDefault();\n        const allowance = Allowance(this.props.match.params.acNum);\n        try {\n            const accounts = await web3.eth.getAccounts();\n            await allowance.methods\n                .createTask(this.state.taskInput, this.state.valueInput)\n                .send({\n                    from: accounts[0],\n                    value: web3.utils.toWei(this.state.valueInput, 'ether')\n                });\n        } catch (err) {}\n    };\n\n    render() {\n        const handleChangeTask = (task) => {\n            this.setState({ taskInput: task });\n        };\n\n        const handleChangeValue = (value) => {\n            this.setState({ valueInput: value });\n        }\n        \n        return (\n            <div>\n                <h3>Parent Account: {this.state.parent}</h3>\n                <h4>There are {this.state.tasks} tasks</h4>\n                <CreateTaskForm\n                    handleChangeTask={handleChangeTask}\n                    handleChangeValue={handleChangeValue}\n                    createTask={this.createTask}\n                    value={this.state.valueInput}\n                    task={this.state.taskInput}\n                />\n                <TasksTable task={this.state.task}/>\n            </div>\n        );\n    }\n}\n\nexport default ViewTask;\n","import React from 'react';\nimport { HashRouter, Switch, Route } from 'react-router-dom';\nimport HomePage from './Components/HomePage';\n// import FamilyAccount from './Components/FamilyAccount';\nimport ViewTask from './Components/ViewTask';\n\nconst Router = () => {\n    return (\n        <HashRouter>\n            <div>\n                <Switch>\n                    <Route exact path=\"/\" component={HomePage} />\n                    <Route path=\"/:acNum\" component={ViewTask}/>\n                </Switch>\n            </div>\n        </HashRouter>\n    );  \n};\n\nexport default Router;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Router from './Router';\nimport { Container } from 'bloomer'; \n\nlet page = <Container>\n        <Router />\n    </Container>\n\nReactDOM.render(page, document.getElementById('root'));\n"],"sourceRoot":""}